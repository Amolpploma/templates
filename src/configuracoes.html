<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles/base/_preload.css">
    <script src="preload-theme.js"></script>
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com;">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components/_status-bar.css">
    <link rel="stylesheet" href="styles/components/_configuracoes.css">
    <title>Configurações</title>
</head>

<body data-page="configuracoes">
    <div class="custom-titlebar">
        <div class="titlebar-tabs">
            <a href="index.html" class="tab">Modelos (Busca)</a>
            <a href="gerenciador-modelos.html" class="tab">Modelos (Edição)</a>
            <a href="gerenciador-checklists.html" class="tab">Checklists (Edição)</a>
            <a href="configuracoes.html" class="tab active">Configurações</a>
        </div>
        <div class="window-controls">
            <button class="minimize-button">─</button>
            <button class="maximize-button">□</button>
            <button class="close-button">×</button>
        </div>
    </div>

    <div class="container configuracoes-container">
        <div class="configuracoes-panel">
            <h2>Configurações</h2>

            <div class="configuracoes-section">
                <h3>Aparência</h3>
                <div class="theme-selector">
                    <h4>Tema</h4>
                    <div class="theme-options">
                        <label class="theme-option">
                            <input type="radio" name="theme" value="light" id="theme-light">
                            <span class="theme-option-label">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z" />
                                </svg>
                                Claro
                            </span>
                        </label>
                        <label class="theme-option">
                            <input type="radio" name="theme" value="dark" id="theme-dark">
                            <span class="theme-option-label">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-3.03 0-5.5-2.47-5.5-5.5 0-1.82.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z" />
                                </svg>
                                Escuro
                            </span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="configuracoes-section">
                <h3>Banco de Dados</h3>
                <div class="database-info">
                    <p>Banco de dados atual: <span id="db-path-config" style="font-weight: 500;"></span></p>
                    <div class="db-actions">
                        <button id="select-db-btn" class="config-btn">Selecionar Banco</button>
                        <button id="create-db-btn" class="config-btn">Criar Novo Banco</button>
                    </div>
                </div>
            </div>

            <div class="configuracoes-section">
                <h3>Importação e Exportação</h3>
                <div class="import-export-actions">
                    <button id="import-btn" class="config-btn">
                        <svg viewBox="0 0 24 24" class="config-icon">
                            <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" />
                        </svg>
                        Importar Documentos
                    </button>
                    <button id="export-btn" class="config-btn">
                        <svg viewBox="0 0 24 24" class="config-icon">
                            <path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z" />
                        </svg>
                        Exportar Documentos
                    </button>
                </div>
                <div id="import-export-status" class="status-message"></div>
            </div>

            <div class="configuracoes-section">
                <h3>Sobre</h3>
                <div class="about-info">
                    <p>Versão: <span id="app-version">0.1.0</span></p>
                    <p>Licença: GNU General Public License v3.0</p>
                    <p>Repositório: <i><u>https://github.com/Amolpploma/templates</u></i></p>
                    <div class="license-buttons">
                        <button id="view-license-btn" class="config-btn">
                            <svg viewBox="0 0 24 24" class="config-icon">
                                <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2-4h4v3h-4v-3zm0-4h4v2h-4v-2zm-1-3V4l5 5h-5z"/>
                            </svg>
                            LICENÇA
                        </button>
                        <button id="view-notice-btn" class="config-btn">
                            <svg viewBox="0 0 24 24" class="config-icon">
                                <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                            </svg>
                            DEPENDÊNCIAS DE TERCEIROS
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="export-modal">
        <div class="modal">
            <div class="modal-header">
                <h3>Exportar Documentos</h3>
                <button class="modal-close" id="export-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="selection-container">
                    <div class="selection-column">
                        <div class="selection-header">
                            <div class="selection-header-left">
                                <h4 class="selection-title">Modelos</h4>
                                <label class="checkmark-container">
                                    Selecionar todos
                                    <input type="checkbox" id="select-all-modelos">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                            <span class="selection-count" id="modelos-count">0 selecionados</span>
                        </div>
                        <div class="selection-list" id="modelos-list">
                            <div class="selection-list-empty">Carregando modelos...</div>
                        </div>
                    </div>
                    <div class="selection-column">
                        <div class="selection-header">
                            <div class="selection-header-left">
                                <h4 class="selection-title">Checklists</h4>
                                <label class="checkmark-container">
                                    Selecionar todos
                                    <input type="checkbox" id="select-all-checklists">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                            <span class="selection-count" id="checklists-count">0 selecionados</span>
                        </div>
                        <div class="selection-list" id="checklists-list">
                            <div class="selection-list-empty">Carregando checklists...</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-text" id="export-as-text">
                    <svg viewBox="0 0 24 24" class="config-icon">
                        <path d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm0 2v14h14V5H5zm2 2h10v2H7V7zm0 4h10v2H7v-2zm0 4h7v2H7v-2z"/>
                    </svg>
                    Exportar modelos como texto
                </button>
                <div class="modal-footer-spacer"></div>
                <button class="modal-btn" id="cancel-export">Cancelar</button>
                <button class="modal-btn modal-btn-primary" id="confirm-export">
                    <span class="loading-spinner"></span>
                    Exportar Selecionados
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para exibir conteúdo dos arquivos LICENSE e NOTICE -->
    <div class="modal-overlay" id="file-content-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="file-content-title">Conteúdo do Arquivo</h3>
                <button class="modal-close" id="file-content-close">&times;</button>
            </div>
            <div class="modal-body">
                <pre id="file-content-text" class="file-content-pre"></pre>
            </div>
            <div class="modal-footer">
                <button class="modal-btn" id="file-content-close-btn">Fechar</button>
            </div>
        </div>
    </div>

    <script src="window-controls.js"></script>
    <script src="scripts/configuracoes.js"></script>
    <div class="status-bar">
        <div class="status-text">
            Banco de dados <span id="db-path" style="cursor: pointer;"></span>
        </div>
        <button id="close-db" class="status-close-btn" title="Fechar banco de dados">×</button>
    </div>
    <script src="scripts/status-bar.js"></script>
</body>

</html>
